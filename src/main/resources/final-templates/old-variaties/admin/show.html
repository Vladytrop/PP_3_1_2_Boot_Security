<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="https://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>User Details</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 40px; }
        .container { max-width: 600px; margin: 0 auto; }
        .user-details { background: #f5f5f5; padding: 20px; border-radius: 5px; }
        .info-row { margin: 15px 0; }
        .label { font-weight: bold; display: inline-block; width: 150px; }
        .actions { margin-top: 30px; }
        .btn {
            padding: 8px 15px; margin-right: 10px;
            text-decoration: none; border-radius: 4px;
        }
        .btn-back { background: #607D8B; color: white; }
        .btn-edit { background: #2196F3; color: white; }
        .btn-logout { background: #f44336; color: white; border: none; cursor: pointer; }
    </style>
</head>
<body>
<div class="container">
    <div style="display: flex; justify-content: space-between; align-items: center;">
        <h1>Просмотр пользователя</h1>
        <form th:action="@{/logout}" method="post">
            <button type="submit" class="btn btn-logout">Выйти</button>
        </form>
    </div>

    <div th:if="${user}" class="user-details">
        <div class="info-row">
            <span class="label">ID:</span>
            <span th:text="${user.id}">1</span>
        </div>
        <div class="info-row">
            <span class="label">Имя пользователя:</span>
            <span th:text="${user.username}">user1</span>
        </div>
        <div class="info-row">
            <span class="label">Роли:</span>
            <span th:text="${#strings.listJoin(user.roles.![name], ', ')}">ROLE_USER</span>
        </div>
    </div>

    <div th:if="${user == null}">
        <p>Пользователь не найден</p>
    </div>

    <div class="actions">
        <a th:href="@{/templates/old-variaties/admin}" class="btn btn-back">← Назад к списку</a>
        <a th:href="@{/admin/{id}/edit(id=${user.id})}" class="btn btn-edit" th:if="${user}">Редактировать</a>
    </div>
</div>
</body>
</html>